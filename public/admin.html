<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="admin-page">
  <div class="admin-container">
    <h1>Admin Panel</h1>
    <label><input type="checkbox" id="enabled" /> Enable Daily Spin</label>
    <label>Reset Time: <input type="time" id="resetTime" value="00:00" /></label>

    <label>Spins per Interval: <input type="number" id="spinsPerInterval" min="1" value="1" /></label>
    <label>Interval (hours): <input type="number" id="intervalHours" min="1" value="24" /></label>

    <h2>Logo</h2>
    <input type="file" id="logoInput" accept="image/png, image/jpeg" />
    <img id="logoPreview" alt="Logo preview" style="max-width:100px; display:none;" />

    <h2>Reward Segments</h2>
    <div class="table-wrapper">
      <table id="segments-table">
        <thead>
          <tr><th>Label</th><th>Value</th><th>Probability</th><th>Daily Cap</th><th>Action</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <button id="add-segment">Add Segment</button>
    <button id="save-config">Save Config</button>

    <h2>Redemption Rewards</h2>
    <div id="reward-section">
      <input type="text" id="newRewardName" placeholder="Reward name" />
      <button id="createReward">Add Reward</button>
      <ul id="rewardList"></ul>
    </div>

    <div id="coupon-section" style="display:none;">
      <h3 id="couponTitle"></h3>
      <label>Category:
        <select id="couponCategory">
          <option value="ATOM">ATOM</option>
          <option value="Ooredoo">Ooredoo</option>
          <option value="MPT">MPT</option>
          <option value="MyTel">MyTel</option>
        </select>
      </label>
      <div id="codeInputs">
        <input type="text" class="code-input" placeholder="Coupon code" />
      </div>
      <button id="addCodeInput">Add More</button>
      <button id="saveCodes">Save Codes</button>
      <div class="table-wrapper">
        <table id="codesTable">
          <thead>
            <tr><th>Code</th><th>Category</th><th>Used</th><th>UsedBy</th><th>UsedAt</th><th>Action</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <h2>Activity Logs</h2>
    <div class="table-wrapper">
      <table id="logs-table">
        <thead><tr><th>User</th><th>Reward</th><th>Time</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
    <a href="/api/reports/export?type=reward" target="_blank">Export Reward CSV</a>
    <a href="/api/reports/export?type=summary" target="_blank">Export Summary CSV</a>
  </div>

  <script src="admin.js"></script>
</body>
</html>
